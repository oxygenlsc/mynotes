# 迭代器

## 迭代 

类似于遍历

迭代： 按照某种逻辑，依次取出下一个数据进行处理


## 迭代器

JS语言规定，如果一个对象具有next方法，并且next方法满足一定的约束，则该对象是一个迭代器(iterator)

next方法的约束：该方法必须返回一个对象，该对象返回一个对象需要2个属性

- value :下一个数据的值 any类型 如果done属性为true，通常会将value设置为undefined
- done: 是否已经迭代完成 boolean 类型

通过迭代器的next方法，可以依次取出数据，并且可以更具done属性来判断是否取完数据

## 迭代器创建函数 iterator creator

他是一个函数，调用该函数后，返回一个迭代器，则该函数称之为迭代器创建函数，可以简称位迭代器函数

## 可迭代协议

es6中出现了for-of循环，该循环就是用于迭代某个对象的，因此，for-of循环要求对象必须是可迭代的（对象必须满足可迭代协议）

可迭代协议是用于约束一个对象的，如果一个对象满足下面规范，则该对象满足可迭代协议，也称之为该对象是可以被迭代的。

可迭代协议的约束如下

1. 对象必须有一个知名符号属性（Symbol.iterator）
2. 该属性必须是一个无参迭代器创建函数

## for-of原理

调用对象的Symbol.iterator 方法得到一个迭代器，不断调用next方法，只要返回的done为false，则将返回的value传递给变量，然后进入循环体

# 生成器 generator  

生成器： 由构造函数Generator创建的对象，该对象即是一个迭代器，同时又是一个可迭代对象（满足可迭代协议的对象）

**注意：Generator构造函数，不提供给开发者使用，仅作为js引擎内部使用**

ES6新增了一个特殊的函数，叫做生成器函数，只要在函数名与function关键字上jiayige*号，该函数会自动返回一个生成器

 生成器函数的特点：

 1. 调用生成器函数会返回一个生成器，而不是执行一个函数体。
    2. 每当调用了生成器的next方法，生成器的函数体会从上一次yield的位置（或开始位置）运行到下一个yield。
        1. yield关键字只能在生成器函数中使用，不能在普通函数中使用。
        2. 它表示暂停，并返回一个当前迭代的数据。
        3. 如果没有下一个yield，到了函数结束，则生成器的next方法得到的结果中的done为true
    3. yield关键字后面的表达式返回的数据，会作为当前迭代的数据
    4. 生成器函数的返回值，会作为迭代结束时的value
    5. 生成器调用next的时候，可以传递参数，该参数会作为生成器上一次yield表达式的值。
       1. 生成器第一次调用next函数传递参数没有意义
    6. 生成器带有一个throw方法，该方法与next效果相同，唯一的区别在于：
        1. next方法传递的参数会被返回成一个正常的值
        2. throw方法传递的参数是一个错误对象会导致生成器函数内部发生一个错误
        7. 生成器带有一个return方法，该方法会直接结束生成器函数
  
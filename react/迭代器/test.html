<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        //一个无线的斐波拉切数列
        var iterator = {
           a:1,
           b:1,
           curIndex:1,
            next(){
                if(this.curIndex ===1 || this.curIndex === 2){
                    this.curIndex++;
                    return{
                    value:1,
                    done:false
                }
                }
                let temp = this.a+this.b;
                this.curIndex++
                this.a = this.b;
                this.b = temp;
                return{
                    value:temp,
                    done:false
                }
            }
        }
    </script>
    <script>
        //下面的函数是一个生成器函数，用于创建生成器
        function* createGenterator(){
            console.log('调用了生成器函数，生成器函数的函数体-开始');
            yield 1;
            console.log('调用了生成器函数，生成器函数的函数体-运行1');
            yield 2;
            console.log('调用了生成器函数，生成器函数的函数体-运行2');
            yield 3;
            console.log('调用了生成器函数，生成器函数的函数体-运行3');
        }
        var generator = createGenterator();//调用后得到一个生成器


        // 生成器函数的特点：

        // 1. 调用生成器函数会返回一个生成器，而不是执行一个函数体。
        // 2. 每当调用了生成器的next方法，生成器的函数体会从上一次yield的位置（或开始位置）运行到下一个yield。
                // 1. yield关键字只能在生成器函数中使用，不能在普通函数中使用。
                // 2. 它表示暂停，并返回一个当前迭代的数据。
                // 3. 如果没有下一个yield，到了函数结束，则生成器的next方法得到的结果中的done为true
        // 3. yield关键字后面的表达式返回的数据，会作为当前迭代的数据
        // 4. 生成器函数的返回值，会作为迭代结束时的value
        // 5. 生成器调用next的时候，可以传递参数，该参数会作为生成器上一次yield表达式的值。
        //      1. 生成器第一次调用next函数传递参数没有意义
        //6. 生成器带有一个throw方法，该方法与next效果相同，唯一的区别在于：
             //1. next方法传递的参数会被返回成一个正常的值
             //2. throw方法传递的参数是一个错误对象会导致生成器函数内部发生一个错误
        //7. 生成器带有一个return方法，该方法会直接结束生成器函数
        //8. 若需要在生成器内部调用其他生成器，注意：如果直接调用，得到的是一个生成器，如果加入*号调用。则进入其他生成器内部执行
        //如果是yield *函数（） 则该表达式的结果是这个函数的返回结果

    </script>
</body>
</html>